<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>Emulator Development  &raquo; Blog Archive   &raquo; Gameboy Sound Emulation Update</title>

<link rel="stylesheet" href="wp-content/themes/default/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="Emulator Development RSS Feed" href="indexd784.html?feed=rss2" />
<link rel="pingback" href="xmlrpc.html" />

<style type="text/css" media="screen">

	#page { background: url("wp-content/themes/default/images/kubrickbgwide.jpg") repeat-y top; border: none; }

</style>

<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.5.1" />

</head>
<body>
<div id="page">


<div id="header">
	<div id="headerimg">
		<h1><a href="index.html">Emulator Development</a></h1>
		<div class="description">The art of emulator programming</div>
	</div>
</div>
<hr />

	<div id="content" class="widecolumn">

	
		<div class="navigation">
			<div class="alignleft">&laquo; <a href="index1c4a.html?p=27">Gameboy sound emulation</a></div>
			<div class="alignright"><a href="index5643.html?p=30">Update</a> &raquo;</div>
		</div>

		<div class="post" id="post-28">
			<h2>Gameboy Sound Emulation Update</h2>

			<div class="entry">
				<p>Well I have implemented all 4 channels and individually they sound correct. When I combine them though there is a serious issue. Although I can still hear each channel playing correctly it is like the mixing is causing the seperate channels to be playing at the wrong volume. Still it shouldnt be too long until I have it working. Expect a gameboy sound tutorial soon. Im hoping to be on to my Sega Mega Drive/Genesis emulator by the start of June</p>
<p>CS.</p>

								
				<p class="postmetadata alt">
					<small>
						This entry was posted
												on Wednesday, May 6th, 2009 at 8:26 am						and is filed under <a href="index81ea.html?cat=3" title="View all posts in Gameboy" rel="category">Gameboy</a>.
						You can follow any responses to this entry through the <a href='index0588.html?feed=rss2&amp;p=28'>RSS 2.0</a> feed.

													You can <a href="#respond">leave a response</a>, or <a href="index3c55.html?p=28" rel="trackback">trackback</a> from your own site.

						
					</small>
				</p>

			</div>
		</div>

	
<!-- You can start editing here. -->

	<h3 id="comments">34 Responses to &#8220;Gameboy Sound Emulation Update&#8221;</h3>

	<ol class="commentlist">

	
		<li class="alt" id="comment-61">
						<cite>hexis</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-61" title="">May 21st, 2009 at 12:10 pm</a> </small>

			<p>THANKS ALOT MAN,<br />
your site is a great source for beginners.<br />
Thanks.</p>

		</li>

	
	
		<li id="comment-63">
						<cite>Philip</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-63" title="">May 26th, 2009 at 10:54 am</a> </small>

			<p>Thank you very much for your site.<br />
I&#8217;m looking forward to see your tutorial about sound emulation soon <img src='wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /></p>

		</li>

	
	
		<li class="alt" id="comment-64">
						<cite>codeslinger</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-64" title="">May 27th, 2009 at 7:49 am</a> </small>

			<p>Thanks guys. Yeah I should start writing the sound emulation tutorial soon. However I have written one for the master system which covers the basics of square waves.</p>

		</li>

	
	
		<li id="comment-66">
						<cite>Mike</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-66" title="">June 4th, 2009 at 6:07 pm</a> </small>

			<p>just a question from a beginner: if a classic gameboy CPU has a clock-rate of 4.194304MHz, why in the beginning gameboy section (http://codeslinger.co.uk/pages/projects/gameboy/beginning.html) you said that a gameboy can execute 419430 cycles every second?</p>
<p>Probably I just have a confusion but I would have thought that an classic gameboy CPU can execute 4194304 cycles every second.</p>

		</li>

	
	
		<li class="alt" id="comment-67">
						<cite><a href='../../../../www.codeslinger.co.uk/index.html' rel='external nofollow'>codeslinger</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-67" title="">June 5th, 2009 at 8:30 am</a> </small>

			<p>You arent confused, I just somehow missed the 4 off the end <img src='wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> This site is still really in its beta stage so if you find anything else please leave a comment and i&#8217;ll fix it.</p>

		</li>

	
	
		<li id="comment-68">
						<cite>Philip</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-68" title="">June 21st, 2009 at 3:59 pm</a> </small>

			<p>Hi Codeslinger.</p>
<p>Can you please give me an email of yours? I&#8217;d like to write you some questions&#8230;<br />
Just drop me an email to my address.</p>
<p>Thanks</p>

		</li>

	
	
		<li class="alt" id="comment-69">
						<cite>jimmy</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-69" title="">June 30th, 2009 at 8:10 am</a> </small>

			<p>Keep up updated! There&#8217;s nothing similar to this website on the net so you&#8217;ve got something really special and unique!!!</p>
<p>Thanks for all your efforts,</p>
<p>JIM.</p>

		</li>

	
	
		<li id="comment-71">
						<cite><a href='../../../../www.codeslinger.co.uk/index.html' rel='external nofollow'>codeslinger</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-71" title="">July 7th, 2009 at 10:34 am</a> </small>

			<p>Philip: Please use this blog for questions. I dont check my email.</p>
<p>Jimmy: Thanks for the support. I&#8217;ve been slacking off a bit lately, mainly due to holidays and my PS3. I will keep updating though, you can count on it!</p>

		</li>

	
	
		<li class="alt" id="comment-72">
						<cite>Philip</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-72" title="">July 7th, 2009 at 1:01 pm</a> </small>

			<p>Hi again!</p>
<p>I successfully wrote a GameBoy emulator thanks to your tutorial. The compatibility is not very high: most of the test programs work, but very few games runs properly. (There&#8217;s a bug in the runtime.gb testrom that I can&#8217;t figure out: after i press start and then the A button to do the cpu test, the program just go back to the main screen).</p>
<p>Anyway I was thinking of moving on the next challenge while doing some bug hunting on my GB emulator. I&#8217;d like to emulate the NES.<br />
Your &#8220;links&#8221; section seems not updated, so i was wandering if you have links to useful emu programming forums (like emutalk, though it&#8217;s not very active) or websites like yours would be great (but it&#8217;s very hard to find another one like it i guess). </p>
<p>Thanks anyway and keep up the good work!</p>

		</li>

	
	
		<li id="comment-73">
						<cite><a href='../../../../www.codeslinger.co.uk/index.html' rel='external nofollow'>codeslinger</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-73" title="">July 9th, 2009 at 8:32 am</a> </small>

			<p>Philip: There are very few useful sites on the howto&#8217;s of emulation programming. Your best bet is to find a site dedicated to the console you are trying to emulate and seeking out resources there. The first place I check is zophar&#8217;s domain (http://www.zophar.net/) they will have quite a few documents on the nes hardware. </p>
<p>However your best resource will be NesDev (http://nesdev.parodius.com).</p>
<p>Good luck with your NES emulator.</p>

		</li>

	
	
		<li class="alt" id="comment-74">
						<cite>Jim McC</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-74" title="">July 9th, 2009 at 1:16 pm</a> </small>

			<p>Hi Codeslinger,</p>
<p>Great Site! I&#8217;ve been looking at emulator development, but very few sites cover the nitty gritty of what parts of the hardware need cataloging, and how to represent them in code.</p>
<p>I&#8217;m sure I speak for a lot of budding developers when I say keep up the good work.</p>
<p>Jim</p>

		</li>

	
	
		<li id="comment-75">
						<cite>jonny</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-75" title="">September 12th, 2009 at 9:31 pm</a> </small>

			<p>Philip, you mentioned a runtime.gb testrom, what do you mean by this?<br />
i&#8217;ve been looking for such a rom to test my cpu core, and have resorted to the painstaking process of writing one myself!<br />
If you could direct me to it, it would be greatly appreciated.</p>
<p>Thanks</p>

		</li>

	
	
		<li class="alt" id="comment-76">
						<cite>jimmm</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-76" title="">September 18th, 2009 at 9:20 am</a> </small>

			<p>Keep up the great work!<br />
Btw : the index page has some issues. The &#8220;home&#8221; link links to index.htm , where the index is index.php i think</p>

		</li>

	
	
		<li id="comment-77">
						<cite><a href='../../../../www.codeslinger.co.uk/index.html' rel='external nofollow'>codeslinger</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-77" title="">September 22nd, 2009 at 8:52 am</a> </small>

			<p>Thanks, good spot <img src='wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /></p>

		</li>

	
	
		<li class="alt" id="comment-78">
						<cite>jimmm</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-78" title="">September 23rd, 2009 at 5:18 pm</a> </small>

			<p>Still it does the same , but for another reason im posting :<br />
I would like to ask if you might know what exactly is an instruction recompiler(!).</p>
<p>I have seen many people writting about them , but what exactly is a recompiler?? I know that it optimizes the code&#8230;but how??</p>
<p>Thanks for looking and wish you the best.</p>

		</li>

	
	
		<li id="comment-79">
						<cite><a href='../../../../www.codeslinger.co.uk/index.html' rel='external nofollow'>codeslinger</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-79" title="">September 25th, 2009 at 7:49 am</a> </small>

			<p>hi jimmm,</p>
<p>the site should be fixed now, you may need to press ctrl+F5 to refresh the pages.</p>
<p>If i remember correctly instruction recompilation is when you take an instruction from a cpu that you are emulating and converting it to the equivalant instruction on the cpu that you are running the emulator on. This is usually gives a huge speed increase in emulation. For example, if you are emulating the Z80 and you encounter one of the ADD instructions then you would use the same instruction for the cpu you are working on to do the same thing that would happen in the Z80. Thats what it means by recompiling, you are taking code that was compiled to run on a different cpu and compiling it into code (on the fly) to run on your cpu.</p>
<p>There might be inaccuracies with my explanation as I havent read anything on it in 6 months, but hopefully this should give you the general idea.</p>

		</li>

	
	
		<li class="alt" id="comment-80">
						<cite>jimmm</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-80" title="">September 28th, 2009 at 7:12 pm</a> </small>

			<p>Thanks , that was a really helpful post , now it makes sense why all authors mention dynamic recompiler in their changelogs!.</p>
<p>And the site is working great now&#8230;</p>

		</li>

	
	
		<li id="comment-81">
						<cite>Phil</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-81" title="">October 12th, 2009 at 5:42 pm</a> </small>

			<p>Hi again.</p>
<p>I&#8217;m writing a Z80 core for a SMS emulator following your tutorial.<br />
I read in your blog that you&#8217;ve used ZEXALL to test each opcode. I was interested to know how to check the result&#8230; i.e. where the test ROM writes the output.</p>
<p>Any help would be great. Thanks</p>

		</li>

	
	
		<li class="alt" id="comment-82">
						<cite><a href='../../../../www.codeslinger.co.uk/index.html' rel='external nofollow'>codeslinger</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-82" title="">October 16th, 2009 at 1:19 pm</a> </small>

			<p>Hi Phil,</p>
<p>If you look through my sms blog posts you will see i have a screenshot of zexall in action. It ouputs to the screen which opcodes it is testing and whether they were successful or not.</p>

		</li>

	
	
		<li id="comment-83">
						<cite>Phil</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-83" title="">October 21st, 2009 at 6:13 pm</a> </small>

			<p>Thanks CS.<br />
I managed to get the test running..</p>
<p>Is it me or the test takes a lot to execute?<br />
Some checks take more than a minute to complete.<br />
I think I&#8217;ve read somewhere that on the original Z80 the test would take about 3 hours and a half&#8230;</p>
<p>Is my code slow?</p>

		</li>

	
	
		<li class="alt" id="comment-84">
						<cite><a href='../../../../www.codeslinger.co.uk/index.html' rel='external nofollow'>codeslinger</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-84" title="">November 2nd, 2009 at 3:54 pm</a> </small>

			<p>Cant say if it is slow without seeing it run. It does take a long time. I think I had the last tests take about 15 mins each. I cant remember if I removed the frame limiting when using zexall to make it run as fast as I could.</p>

		</li>

	
	
		<li id="comment-85">
						<cite>KarasQ</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-85" title="">November 11th, 2009 at 11:41 am</a> </small>

			<p>Hi codeslinger,<br />
very useful kind of information you have on your website. I would like to see your implementation of gameboy sound channels and how did you synchronized sound with emu. I can&#8217;t handle it. I have currently done implementation of channel 3 but it seems like to be not synchronized well (sometimes samples are repeated couple of times). Do you have any websites or documents about gameboy sound emulation? Can you share your source code with us?</p>

		</li>

	
	
		<li class="alt" id="comment-86">
						<cite>KarasQ</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-86" title="">November 12th, 2009 at 11:12 pm</a> </small>

			<p>Hey it&#8217;s me again, I&#8217;ve just found your sourceforge gameboy project so I will check your code <img src='wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> Thanks.</p>

		</li>

	
	
		<li id="comment-87">
						<cite><a href='../../../../www.codeslinger.co.uk/index.html' rel='external nofollow'>codeslinger</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-87" title="">November 13th, 2009 at 10:33 am</a> </small>

			<p>Hi KarasQ</p>
<p>I got my gameboy sound chip seeming to work for each channel but there seems to be issues with combining the channels together for the final output. Its been quite awhile since I looked at it, hence the lack of updates on this site <img src='wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> I didnt think I had much more to do though, however I think my latest code hasnt been checked into svn. I will do when I get chance</p>
<p>CS</p>

		</li>

	
	
		<li class="alt" id="comment-88">
						<cite>Ryan</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-88" title="">December 1st, 2009 at 3:55 am</a> </small>

			<p>Thanks loads codeslinger for all the walkthroughs on your site, it is invaluable. Hopefully, I will actually get the graphics fully working on my chip8 emulator soon, its all down to you, thanks again.</p>

		</li>

	
	
		<li id="comment-89">
						<cite><a href='../../../../www.codeslinger.co.uk/index.html' rel='external nofollow'>codeslinger</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-89" title="">December 8th, 2009 at 8:38 am</a> </small>

			<p>You&#8217;re Welcome <img src='wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>CS</p>

		</li>

	
	
		<li class="alt" id="comment-91">
						<cite>rafael</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-91" title="">February 16th, 2010 at 12:37 am</a> </small>

			<p>hey codeslinger</p>
<p>I was following your chip8 emulator tutorial and looking your implementation and I found 2 &#8220;bugs&#8221; that makes some games not work properly</p>
<p>btw, thank you for the tutorial</p>

		</li>

	
	
		<li id="comment-92">
						<cite>Lee</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-92" title="">February 22nd, 2010 at 10:55 pm</a> </small>

			<p>Hi,</p>
<p>I think your GameBoy LCD tutorial and &#8216;finished product&#8217; both have a bug which causes the first scaline to never be rendered. The screenshots of your emulator on the GameBoy page seem to confirm this.</p>
<p>The bug:<br />
m_Rom[0xFF44]++; &lt;&#8211;is always called _before_ rendering a scanline, thus scanline 0 can never be rendered.</p>
<p>Also, I&#8217;m wondering if &#8216;SetLCDStatus&#8217; is being called at the right time, and if it really needs to be called every time &#8216;UpdateGraphics&#8217; is executed or just when m_ScalineCounter &lt;= 0.</p>
<p>Thanks,<br />
Lee.</p>

		</li>

	
	
		<li class="alt" id="comment-93">
						<cite>Lee</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-93" title="">February 23rd, 2010 at 12:06 am</a> </small>

			<p>Just to note; I realise now why the &#8216;SetLCDStatus&#8217; needs to be called every ‘UpdateGraphics’ call.</p>

		</li>

	
	
		<li id="comment-94">
						<cite>Albert</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-94" title="">March 24th, 2010 at 9:45 am</a> </small>

			<p>Awesome place, thank you very much for all your tutorials, source code and great info. I hope we are working on the Mega Drive / Genesis emulator and don&#8217;t leave the updates of the site.</p>

		</li>

	
	
		<li class="alt" id="comment-95">
						<cite>Ryan</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-95" title="">March 30th, 2010 at 12:16 pm</a> </small>

			<p>Hey Codeslinger.<br />
Do you think you will be releasing a tutorial on Gameboy sound emulation soon? Sorry to bug you, it&#8217;s just an area in emulation that I&#8217;m not familier with. </p>
<p>thanks <img src='wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /></p>

		</li>

	
	
		<li id="comment-96">
						<cite><a href='http://dgm.6te.net/' rel='external nofollow'>David</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-96" title="">April 9th, 2010 at 2:42 am</a> </small>

			<p>Hi. I&#8217;m using your work with the master system as a reference to my final project. Do you have some way that I can contact you? Email or something? I need your name to give credits (if you would like to allow me to use it).<br />
Thank you.</p>

		</li>

	
	
		<li class="alt" id="comment-97">
						<cite>Hellfish</cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-97" title="">April 14th, 2010 at 8:18 am</a> </small>

			<p>Hey!</p>
<p>I was just wondering, has this site been backburnered? It&#8217;s been a while, and I am just worried this great resource will be lost. I was looking forward to Zuko too&#8230;</p>

		</li>

	
	
		<li id="comment-128">
						<cite><a href='http://ourinnovetivemind.blogspot.com/' rel='external nofollow'>Bindesh Kumar Singh</a></cite> Says:
						<br />

			<small class="commentmetadata"><a href="#comment-128" title="">December 23rd, 2010 at 12:53 pm</a> </small>

			<p>Thanks a lot for your work and tutorials you have made. I was just thinking to write an emulator since 2008, but now i have made CHIP8 emulator after reading your CHIP8 emulator. I clearly understood the logic behind emulation which i was afraid of before.</p>
<p>I make games but wanted to run NSF music into my S60 5th edition Nokia phone. So i started to learn NES seriously. Now am working on 6502 and 230A emulation. </p>
<p>At present i can put a link on my site for your tutorials and site as credit.</p>
<p>Thanks a lot again. <img src='wp-includes/images/smilies/icon_wink.gif' alt=';-)' class='wp-smiley' /> Thumbs up for your sincere efforts.</p>

		</li>

	
	
	</ol>

 


<h3 id="respond">Leave a Reply</h3>


<form action="http://codeslinger.co.uk/pages/blog/wordpress/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value="" size="22" tabindex="1" />
<label for="author"><small>Name (required)</small></label></p>

<p><input type="text" name="email" id="email" value="" size="22" tabindex="2" />
<label for="email"><small>Mail (will not be published) (required)</small></label></p>

<p><input type="text" name="url" id="url" value="" size="22" tabindex="3" />
<label for="url"><small>Website</small></label></p>


<!--<p><small><strong>XHTML:</strong> You can use these tags: <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></small></p>-->

<p><textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"></textarea></p>

<p><input name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment" />
<input type="hidden" name="comment_post_ID" value="28" />
</p>

</form>



	
	</div>


<hr />
<div id="footer">
<!-- If you'd like to support WordPress, having the "powered by" link somewhere on your blog is the best way; it's our only promotion or advertising. -->
	<p>
		Emulator Development is proudly powered by
		<a href="http://wordpress.org/">WordPress</a>
		<br /><a href="indexd784.html?feed=rss2">Entries (RSS)</a>
		and <a href="indexa6da.html?feed=comments-rss2">Comments (RSS)</a>.
		<!-- 19 queries. 0.226 seconds. -->
	</p>
</div>
</div>

<!-- Gorgeous design by Michael Heilemann - http://binarybonsai.com/kubrick/ -->

		</body>

<!-- Mirrored from codeslinger.co.uk/pages/blog/wordpress/?p=28 by HTTrack Website Copier/3.x [XR&CO'2010], Thu, 11 Aug 2011 17:34:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
</html>
